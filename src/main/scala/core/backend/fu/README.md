# 目錄簡介

## FuCtrl 設計思路

在後端設計中, 我們做出如下限制:

* 向功能模塊傳遞控制信號被限制在7位. 儘量將7位寬度用盡, 以簡化功能模塊中的組合邏輯.
  * 選擇7位的限制來自於實踐經驗, 也就是在目前的設計中, 考慮到模塊複用的情況下, 7位提供了足夠的One Hot以簡化邏輯, 又避免OneHot過多而降低複用性和增大流水面積開銷.
* 將 Ctrl 分爲獨熱位與編碼位.
  * 獨熱位將獨自代表某一個控制信號, 不需要解碼即可使用. 編碼位需要經過解碼才能生成控制信號.
  * 要求獨熱位應具有良好的設計, 使其不依賴編碼位即可完成大多工作.

Ctrl 的位寬將會影響流水間寄存器的開銷, 因此要節約位寬,採取了編碼的方式進行.

但是爲了避免編碼解碼開銷, 在可以的情況下, 儘量賦予每一個位獨特的意義.

考慮到主要的RISC架構中,都將 W 后缀設計爲 64-bit 下的特产，专为处理 legacy 32-bit 数据而设，32 位下無效或不存在.

因此, 我們在這裏保持一致, W 後綴只有在 64-bit 下才有意義, 32-bit 下不應該使用

## 架構Fu命名

錯誤示範: BRU2RISCV. 原因:這是"流向型命名", 我們應該使用"適配目標命名"

`<Fu>For<ISA>`/`<ISA><Fu>`, 例如 `RISCVBRU`/`BRUForRISCV`. 我採用 `<ISA><Fu>` 的方式命名.

##

在多發射場景下, 我們應該具有多個 issue slot, 比如:

* ALU
* Load/Store
* Branch Unit
* MUL
* DIV
* CSR
